--The goal is to make the drone fly

--this line imports the required webots library
from controller import Robot, Motor, GPS

--Initialize Robot and Timestep
robot = Robot()
timestep = int(robot.getBasicTimeStep())

--Enable GPS Sensor
gps = robot.getDevice("gps")
gps.enable(timestep)

--Get and Configure Propeller Motors
motors = [
    robot.getDevice("front left propeller"),
    robot.getDevice("front right propeller"),
    robot.getDevice("rear left propeller"),
    robot.getDevice("rear right propeller"),
]

--Fetches the four motors that spin the drone propellers.
for motor in motors:
    motor.setPosition(float('inf'))
    motor.setVelocity(0.0)

--Set a Lift Thrust Value
lift_thrust = 70.0

--Wait 1 Second Before Takeoff
for _ in range(int(1000 / timestep)):
    robot.step(timestep)

--Main Loop — Apply Thrust to Fly
while robot.step(timestep) != -1:

--We apply lift force to each propeller.

--Some propellers are mounted in opposite directions and need negative velocity to spin correctly:

--i % 2 == 1 checks if the motor is at an odd index (1, 3) — those spin the opposite direction.

--This keeps torque balanced, so the drone doesn't spin uncontrollably.

for i, motor in enumerate(motors):
    motor.setVelocity(-lift_thrust if i % 2 == 1 else lift_thrust)

